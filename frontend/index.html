<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ca√ßa Fuma√ßa - Alerta Clim√°tico ODS 13</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="" href="images/logo-aba.png" />
    <link rel="stylesheet" href="/style/style.css" />
  </head>
  <body class="text-gray-200">
    <div class="container mx-auto px-4 py-8 md:py-16">
      

      <div class="mb-8">
        <div class="bg-gray-900/70 backdrop-blur-lg border border-gray-700 rounded-xl p-6 donation-progress-container">
          <div class="flex items-center justify-between mb-4">
            <h2 class="text-2xl font-bold text-cyan-300">üå± Meta de Doa√ß√µes Comunit√°rias</h2>
            <div class="text-right">
              <div class="text-3xl font-bold text-yellow-300" id="total-donations">R$ 0</div>
              <div class="text-sm text-gray-400">de R$ 10.000</div>
            </div>
          </div>
          

          <div class="mb-3">
            <div class="w-full bg-gray-700 rounded-full h-4 overflow-hidden">
              <div 
                id="donation-progress-bar" 
                class="h-4 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded-full transition-all duration-1000 ease-out"
                style="width: 0%"
              ></div>
            </div>
          </div>
          

          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
            <div class="bg-gray-800/50 rounded-lg p-3 progress-stat">
              <div class="text-2xl font-bold text-green-400" id="donation-count">0</div>
              <div class="text-sm text-gray-300">Doa√ß√µes</div>
            </div>
            <div class="bg-gray-800/50 rounded-lg p-3 progress-stat">
              <div class="text-2xl font-bold text-blue-400" id="trees-planted">0</div>
              <div class="text-sm text-gray-300">√Årvores Plantadas</div>
            </div>
            <div class="bg-gray-800/50 rounded-lg p-3 progress-stat">
              <div class="text-2xl font-bold text-purple-400" id="carbon-offset">0</div>
              <div class="text-sm text-gray-300">CO‚ÇÇ Compensado (kg)</div>
            </div>
          </div>
          

          <div class="mt-4 text-center">
            <p class="text-gray-300 motivational-message" id="motivational-message">
              Cada doa√ß√£o conta! Vamos juntos alcan√ßar nossa meta clim√°tica! üåç
            </p>
          </div>
        </div>
      </div>
      
      <section
        id="radar"
        class="min-h-screen flex flex-col items-center justify-center text-center"
      >
        <h1 class="text-4xl md:text-6xl font-black uppercase mb-6">
          O alerta que chega antes da tempestade.
        </h1>
        <div class="w-full max-w-lg">
          <input
            id="cidadeInput"
            type="text"
            class="w-full p-4 mb-4 text-center text-lg bg-gray-800/60 backdrop-blur-sm border-2 border-gray-500 rounded-lg focus:outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400 placeholder-gray-400"
            placeholder="DIGITE SUA CIDADE"
          />
          <input
            id="nomeInput"
            type="text"
            class="w-full p-4 text-center text-lg bg-gray-800/60 backdrop-blur-sm border-2 border-gray-500 rounded-lg focus:outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400 placeholder-gray-400"
            placeholder="DIGITE O SEU NOME"
          />
          <input
            id="phoneInput"
            type="text"
            class="w-full p-4 text-center text-lg bg-gray-800/60 backdrop-blur-sm border-2 border-gray-500 rounded-lg focus:outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400 placeholder-gray-400"
            placeholder="DIGITE SEU N√öMERO DE CELULAR"
          />
          <button id="submitButton" class="button">
            <span class="button_lg">
              <span class="button_sl"></span>
              <span class="button_text">Receber notifica√ß√µes do clima em sua cidade.</span>
            </span>
          </button>
        </div>
        <div id="alertModal" class="modal-overlay">
          <div class="modal-content">
            <h2 class="modal-title"></h2>
            <p id="modalMessage" class="modal-message"></p>
            <button id="closeModalBtn" class="modal-close-btn">Ok!</button>
          </div>
        </div>
        



              
      
              <div id="preview-result" class="hidden p-3 bg-green-100 border border-green-300 rounded-lg text-center">
                <p class="text-green-800 font-semibold">‚ú® Impacto Positivo!</p>
                <p class="text-green-700 text-sm">Sua escolha melhorou a cidade!</p>
              </div>
            </div>
            

      </section>

      <main id="resilience-center" class="space-y-12" style="display: none">
        <section id="weather-info" class="main-card text-center"></section>

        <section class="main-card">
          <h2 class="section-title">üö® Alertas Cr√≠ticos e Recomenda√ß√µes</h2>
          <div id="alerts-container"></div>
        </section>

        <section class="main-card">
          <h2 class="section-title">üìÖ Previs√£o para os Pr√≥ximos Dias</h2>
          <div
            id="forecast-container"
            class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center"
          ></div>
        </section>
        
        <section class="main-card">
          <h2 class="section-title">üåç Calculadora de Impacto Pessoal</h2>
          
          <div class="personal-impact-calculator">
            <div class="impact-grid">
              <div class="impact-card">
                <div class="impact-icon">üå±</div>
                <div class="impact-value" id="personal-trees">--</div>
                <div class="impact-label">√Årvores Equivalentes</div>
                <div class="impact-description">Baseado nos seus pontos</div>
              </div>
              <div class="impact-card">
                <div class="impact-icon">üöó</div>
                <div class="impact-value" id="car-emissions">--</div>
                <div class="impact-label">Meses de Carro Compensados</div>
                <div class="impact-description">CO‚ÇÇ neutralizado</div>
              </div>
              <div class="impact-card">
                <div class="impact-icon">üè†</div>
                <div class="impact-value" id="homes-powered">--</div>
                <div class="impact-label">Casas com Energia Solar</div>
                <div class="impact-description">Energia limpa gerada</div>
              </div>
              <div class="impact-card">
                <div class="impact-icon">üì±</div>
                <div class="impact-value" id="impact-score">--</div>
                <div class="impact-label">Score de Impacto</div>
                <div class="impact-description">Sua contribui√ß√£o clim√°tica</div>
              </div>
            </div>
            <div class="impact-summary">
              <div class="summary-title">üìà Resumo do Seu Impacto</div>
              <div class="summary-text" id="impact-summary-text">
                Carregando seus dados de impacto...
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="impact-progress"></div>
              </div>
              <div class="progress-label">
                <span id="progress-text">0%</span> do caminho para ser um Her√≥i Clim√°tico!
              </div>
            </div>
          </div>
        </section>

        <section class="main-card">
          <h2 class="section-title">üåç Dados Reais do Clima</h2>
          
          <div class="nasa-climate-dashboard">
          
            
            <div class="climate-chart-container">
              <h3 class="climate-chart-title">üìä Tend√™ncia de Temperatura Global (NASA)</h3>
  
              <canvas id="nasaClimateChart"></canvas>
              <div class="climate-legend">
                <span class="legend-item">
                  <span class="legend-color" style="background: #ff6b6b;"></span>
                  Temperatura Real (NASA)
                </span>
                <span class="legend-item">
                  <span class="legend-color" style="background: #4ecdc4;"></span>
                  M√©dia Hist√≥rica
                </span>
              </div>
            </div>
            
          </div>
        </section>

      </main>
    </div>
<footer class="w-full py-8 mt-16 border-t border-gray-700/50 flex flex-col items-center gap-8">
    <div class="container mx-auto px-4 flex flex-col lg:flex-row justify-center items-start gap-8">

        <div class="w-full max-w-xs flex-shrink-0">
            <div class="h-full bg-gray-900/[0.7] backdrop-blur-lg border border-gray-700/[0.5] [clip-path:polygon(_30px_0%,_100%_0,_100%_calc(100%_-_30px),_calc(100%_-_30px)_100%,_0_100%,_0%_30px_)] rounded-tr-[20px] rounded-bl-[20px] flex flex-col p-6">
                <div class="w-28 h-28 bg-[rgb(41,_41,_41)] rounded-[15px] mx-auto mt-2 mb-4 flex">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" height="80" width="80" class="m-auto text-cyan-300" fill="none">
                        <path stroke-linejoin="round" stroke="currentColor" d="M16 6.27975C16 6.88118 15.7625 7.45883 15.3383 7.88611C14.3619 8.87007 13.415 9.89605 12.4021 10.8443C12.17 11.0585 11.8017 11.0507 11.5795 10.8268L8.6615 7.88611C7.7795 6.99725 7.7795 5.56225 8.6615 4.67339C9.55218 3.77579 11.0032 3.77579 11.8938 4.67339L11.9999 4.78027L12.1059 4.67345C12.533 4.24286 13.1146 4 13.7221 4C14.3297 4 14.9113 4.24284 15.3383 4.67339C15.7625 5.10073 16 5.67835 16 6.27975Z"></path>
                        <path stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" d="M18 20L21.8243 16.1757C21.9368 16.0632 22 15.9106 22 15.7515V10.5C22 9.67157 21.3284 9 20.5 9V9C19.6716 9 19 9.67157 19 10.5V15"></path>
                        <path stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" d="M18 16L18.8581 15.1419C18.949 15.051 19 14.9278 19 14.7994V14.7994C19 14.6159 18.8963 14.4482 18.7322 14.3661L18.2893 14.1447C17.5194 13.7597 16.5894 13.9106 15.9807 14.5193L15.0858 15.4142C14.7107 15.7893 14.5 16.298 14.5 16.8284V20"></path>
                        <path stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" d="M6 20L2.17574 16.1757C2.06321 16.0632 2 15.9106 2 15.7515V10.5C2 9.67157 2.67157 9 3.5 9V9C4.32843 9 5 9.67157 5 10.5V15"></path>
                        <path stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" d="M6 16L5.14187 15.1419C5.05103 15.051 5 14.9278 5 14.7994V14.7994C5 14.6159 5.10366 14.4482 5.26776 14.3661L5.71067 14.1447C6.48064 13.7597 7.41059 13.9106 8.01931 14.5193L8.91421 15.4142C9.28929 15.7893 9.5 16.298 9.5 16.8284V20"></path>
                    </svg>
                </div>
                <span class="font-bold text-white text-center block text-xl">Doe para projetos sustent√°veis</span>
                <p class="font-normal text-gray-300 block text-center text-sm mt-3 mb-5 mx-2">Sua contribui√ß√£o fortalece a luta contra as mudan√ßas clim√°ticas e apoia a ODS 13. Clique abaixo para apoiar.</p>
                <a id="donateButton" href="#" target="_blank" class="group/button relative inline-flex items-center justify-center overflow-hidden rounded-md bg-gray-800/30 backdrop-blur-lg px-6 py-3 text-base font-semibold text-white transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-xl hover:shadow-cyan-400/15 border border-white/20 w-[90%] mx-auto mt-auto">
                    <span class="group/link font-bold text-white text-center block text-lg group-hover/button:text-cyan-300">Apoiar Causa</span>
                    <div class="absolute inset-0 flex h-full w-full justify-center [transform:skew(-13deg)_translateX(-100%)] group-hover/button:duration-1000 group-hover/button:[transform:skew(-13deg)_translateX(100%)]">
                        <div class="relative h-full w-10 bg-white/20"></div>
                    </div>
                </a>
                
                <button id="previewButton" onclick="openMeteoGame()" class="group/preview relative inline-flex items-center justify-center overflow-hidden rounded-md bg-gradient-to-r from-green-600/30 to-blue-600/30 backdrop-blur-lg px-6 py-3 text-base font-semibold text-white transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-xl hover:shadow-green-400/15 border border-green-400/30 w-[90%] mx-auto mt-4">
                    <span class="group-hover/preview:text-green-300 text-center block text-lg font-bold">üéÆ Quer ver como √©?</span>
                    <div class="absolute inset-0 flex h-full w-full justify-center [transform:skew(-13deg)_translateX(-100%)] group-hover/preview:duration-1000 group-hover/preview:[transform:skew(-13deg)_translateX(100%)]">
                        <div class="relative h-full w-10 bg-green-400/20"></div>
                    </div>
                </button>
                

            </div>
        </div>


        <div class="w-full max-w-xs flex-shrink-0">
            <div class="h-full bg-gradient-to-br from-green-900/70 to-blue-900/70 backdrop-blur-lg border border-green-500/30 rounded-[20px] flex flex-col p-6 donation-info-card">
                <div class="w-16 h-16 bg-green-600/20 rounded-full mx-auto mt-2 mb-4 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8 text-green-400">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                </div>
                <h3 class="font-bold text-green-300 text-center block text-lg mb-3">Por que doar?</h3>
                
                <div class="text-center mb-4">
                    <button id="ods13PopupBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 hover:scale-105 shadow-lg">
                        üåç O que √© ODS 13?
                    </button>
                </div>


                
                <div class="space-y-3 text-sm">
                    <div class="flex items-start gap-2 donation-impact-item">
                        <div class="w-2 h-2 bg-green-400 rounded-full mt-2 flex-shrink-0 donation-impact-dot"></div>
                        <p class="text-gray-200">üå± <strong>Reflorestamento:</strong> Cada R$ 10 plantam 2 √°rvores nativas</p>
                    </div>
                    
                    <div class="flex items-start gap-2 donation-impact-item">
                        <div class="w-2 h-2 bg-blue-400 rounded-full mt-2 flex-shrink-0 donation-impact-dot"></div>
                        <p class="text-gray-200">üíß <strong>√Ågua limpa:</strong> Prote√ß√£o de nascentes e rios</p>
                    </div>
                    
                    <div class="flex items-start gap-2 donation-impact-item">
                        <div class="w-2 h-2 bg-yellow-400 rounded-full mt-2 flex-shrink-0 donation-impact-dot"></div>
                        <p class="text-gray-200">‚òÄÔ∏è <strong>Energia solar:</strong> Instala√ß√£o em comunidades carentes</p>
                    </div>
                    
                    <div class="flex items-start gap-2 donation-impact-item">
                        <div class="w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0 donation-impact-dot"></div>
                        <p class="text-gray-200">üè´ <strong>Educa√ß√£o clim√°tica:</strong> Capacita√ß√£o de jovens l√≠deres</p>
                    </div>
                </div>
                
                <div class="mt-4 p-3 bg-green-600/20 rounded-lg border border-green-500/30">
                    <p class="text-xs text-green-200 text-center">
                        <strong>Impacto real:</strong> 100% das doa√ß√µes s√£o direcionadas para projetos verificados e auditados
                    </p>
                </div>
                
                <div class="mt-4 text-center">
                    <div class="inline-flex items-center gap-2 bg-yellow-600/20 px-3 py-1 rounded-full border border-yellow-500/30">
                        <span class="text-yellow-300 text-xs">üèÜ</span>
                        <span class="text-yellow-200 text-xs font-semibold">Leaderboard demonstrando maiores doa√ß√µes</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="w-full lg:max-w-4xl">
            <div class="bg-gray-800/60 backdrop-blur-sm border border-gray-700 rounded-lg p-6">
                <h2 class="text-3xl font-bold mb-6 text-cyan-300 text-center lg:text-left">üèÜ Top 10 - Ranking da A√ß√£o Clim√°tica</h2>
                <table class="w-full text-left">
                    <thead>
                        <tr class="border-b border-gray-600">
                            <th class="p-4 text-base font-semibold uppercase text-gray-400">Pos.</th>
                            <th class="p-4 text-base font-semibold uppercase text-gray-400">Nome</th>
                            <th class="p-4 text-base font-semibold uppercase text-gray-400 text-right">Valor</th>
                        </tr>
                    </thead>
                    <tbody id="ranking-body">
                        </tbody>
                </table>
            </div>
        </div>

    </div>

    <div class="container mx-auto px-4 flex flex-col md:flex-row justify-center items-center gap-8 mt-8">
        <div class="logo-placeholder"><img src="/images/logo-uni.png" alt="Logo Univap"></div>
        <div class="logo-placeholder"><img src="images/hackaton.png" alt="Logo Hackathon"></div>
    </div>
</footer>
   <script src="apis/payApi.js" type="module"></script>
    <script src="script.js" type="module"></script>
    
    <div id="ods13Modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg w-[32rem] h-[32rem] overflow-hidden shadow-2xl">
            <div class="p-4 h-full flex flex-col">
                <div class="flex justify-between items-center mb-3">
                    <h2 class="text-lg font-bold text-green-600">üåç ODS 13</h2>
                    <button id="closeOds13Modal" class="text-gray-500 hover:text-gray-700 text-xl font-bold">&times;</button>
                </div>
                
                <div class="flex-1 space-y-3 text-gray-700 overflow-y-auto">
                    <div>
                        <h3 class="text-sm font-semibold text-green-700 mb-1">O que √© ODS 13?</h3>
                        <p class="text-xs leading-relaxed">
                            Objetivo de Desenvolvimento Sustent√°vel 13 da ONU para combater mudan√ßas clim√°ticas.
                        </p>
                    </div>
                    
                    <div>
                        <h3 class="text-sm font-semibold text-green-700 mb-1">Metas Principais:</h3>
                        <ul class="text-xs space-y-1 list-disc list-inside">
                            <li>Fortalecer resili√™ncia clim√°tica</li>
                            <li>Integrar medidas clim√°ticas nas pol√≠ticas</li>
                            <li>Melhorar educa√ß√£o e conscientiza√ß√£o</li>
                            <li>Mobilizar US$ 100 bilh√µes anualmente</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="text-sm font-semibold text-green-700 mb-1">Links √öteis:</h3>
                        <div class="grid grid-cols-1 gap-2">
                            <a href="https://brasil.un.org/pt-br/sdgs/13" target="_blank" class="block bg-blue-50 hover:bg-blue-100 p-2 rounded border border-blue-200 transition-colors">
                                <span class="text-blue-700 font-medium text-xs">üá∫üá≥ ONU Brasil - ODS 13</span>
                            </a>
                            <a href="https://www.ipea.gov.br/ods/ods13.html" target="_blank" class="block bg-green-50 hover:bg-green-100 p-2 rounded border border-green-200 transition-colors">
                                <span class="text-green-700 font-medium text-xs">üìä IPEA - Indicadores</span>
                            </a>
                            <a href="https://www.climate.gov/" target="_blank" class="block bg-purple-50 hover:bg-purple-100 p-2 rounded border border-purple-200 transition-colors">
                                <span class="text-purple-700 font-medium text-xs">üå°Ô∏è Climate.gov</span>
                            </a>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 p-3 rounded border border-green-200">
                        <h3 class="text-sm font-semibold text-green-700 mb-1">üí° Como ajudar:</h3>
                        <ul class="text-xs space-y-1 list-disc list-inside text-green-700">
                            <li>Reduzir energia e usar renov√°veis</li>
                            <li>Transporte p√∫blico/el√©trico</li>
                            <li>Produtos locais e reciclagem</li>
                            <li>Apoiar organiza√ß√µes ambientais</li>
                        </ul>
                    </div>
                </div>
                
                <div class="mt-3 text-center">
                    <button id="closeOds13Modal2" class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded transition-all duration-300 hover:scale-105 text-sm">
                        Entendi! üå±
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="donationModal" class="modal-overlay">
        <div class="modal-content donation-modal-content">
            <h2 class="modal-title donation-title">üå± Fa√ßa sua Doa√ß√£o</h2>
            <p class="modal-message donation-message">Sua contribui√ß√£o impulsiona projetos que combatem as mudan√ßas clim√°ticas. Cada real conta!</p>
            
            <div class="donation-presets">
                <button class="preset-btn" data-amount="10">R$ 10</button>
                <button class="preset-btn" data-amount="25">R$ 25</button>
                <button class="preset-btn" data-amount="50">R$ 50</button>
            </div>

            <div class="donation-input-container">
                <span>R$</span>
                <input type="number" id="donationAmountInput" placeholder="Outro valor" class="donation-input">
            </div>

            <div class="donation-actions">
                <button id="confirmDonationBtn" class="modal-close-btn confirm-btn">Confirmar Doa√ß√£o</button>
                <button id="cancelDonationBtn" class="modal-close-btn cancel-btn">Cancelar</button>
            </div>
        </div>
    </div>

  </body>
</html>